(function(){const {render,createElement:h,useState,useEffect}=wp.element;const {__}=wp.i18n;const apiFetch=wp.apiFetch;function App(){const[s,setS]=useState(null);const[sav,setSav]=useState(false);useEffect(()=>{apiFetch({path:'/aipm/v1/settings',method:'GET',headers:{'X-WP-Nonce':GKAI.nonce}}).then(setS);},[]);if(!s)return h('p',null,__('Loading…','gatekeeper-ai'));const onSave=()=>{setSav(true);apiFetch({path:'/aipm/v1/settings',method:'POST',headers:{'X-WP-Nonce':GKAI.nonce},data:s}).then(setS).finally(()=>setSav(false));};return h('div',{className:'gkai-settings'},h('h2',null,'Settings (MVP)'),h('label',null,h('input',{type:'checkbox',checked:!!s.c2pa.enabled,onChange:e=>setS({...s,c2pa:{...s.c2pa,enabled:e.target.checked}})}),' ',__('Enable C2PA-Light','gatekeeper-ai')),h('div',null,h('button',{className:'button button-primary',onClick:onSave,disabled:sav},sav?__('Saving…','gatekeeper-ai'):__('Save','gatekeeper-ai'))));}const el=document.getElementById('gkai-app');if(el)render(h(App),el);})();
